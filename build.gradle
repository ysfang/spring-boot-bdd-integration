buildscript {
    apply from: "$rootDir/dependencies.gradle"
    repositories {
        mavenLocal()
        jcenter()
    }
    
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:2.1.4.RELEASE")
        classpath "net.serenity-bdd:serenity-gradle-plugin:2.0.40"
    }
}


apply plugin: 'java'
apply plugin: 'idea'
apply from: "$rootDir/dependencies.gradle"
apply plugin: 'org.springframework.boot'
apply plugin: 'io.spring.dependency-management'
apply plugin: 'net.serenity-bdd.aggregator'


sourceSets {
    test {
        java {
            srcDirs = ['src/test/java', 'src/bdd-test/java']
        }
        resources {
            srcDirs = ['src/bdd-test/resources']
        }
    }
}
test.finalizedBy(aggregate)

repositories {
    mavenLocal()
    jcenter()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile "org.springframework.boot:spring-boot-starter-web"

    testImplementation libs.test.springBootStarterTest,
            libs.test.serenityCore,
            libs.test.serenityJunit,
            libs.test.serenityCucumber

    testRuntimeOnly libs.test.serenitySpring
}